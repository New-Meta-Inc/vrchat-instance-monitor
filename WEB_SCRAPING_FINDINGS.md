# VRChatウェブサイトのスクレイピング調査結果

## 調査URL
https://vrchat.com/home/world/wrld_4cf554b4-430c-4f8f-b53e-1f294eed230b/info

## 発見事項

### 1. ワールド情報
- **ワールド名**: The Black Cat
- **総ユーザー数**: 522 players in public instances
- **パブリックプレイヤー**: 522
- **プライベートプレイヤー**: 14
- **収容人数**: 80

### 2. Active Instancesセクション

ページには「Active Instances」セクションがあり、以下の情報が表示されています:

**インスタンス例**:
- 17 / 80 - Group Public
- 14 / 80 - Group Public
- 13 / 80 - Group Public
- 10 / 80 - Group Public
- 5 / 80 - Group Public (複数)
- 1 / 80 - Group Public (複数)
- 23 / 80 - Public (複数)
- 3 / 80 - Public (複数)
- 2 / 80 - Public (複数)
- 1 / 80 - Public (複数)

### 3. データ構造

各インスタンスには以下の情報が含まれています:
- **現在のユーザー数 / 最大収容人数** (例: 17 / 80)
- **インスタンスタイプ** (Public, Group Public, Friends+, など)
- **ワールド名**
- **アクションボタン** (Open Instance, Invite Me)

## 技術的な実装方法

### 方法1: HTMLパース（推奨）

VRChatウェブサイトにログインしてHTMLをパースする方法:

1. **ログイン**: VRChatウェブサイトにログイン（既存のcookieを使用）
2. **ページ取得**: `https://vrchat.com/home/world/{worldId}/info` にアクセス
3. **HTMLパース**: BeautifulSoupなどでHTMLを解析
4. **データ抽出**: Active Instancesセクションからユーザー数とタイプを抽出

### 方法2: ブラウザ自動化

Seleniumやplaywright を使用してブラウザを自動化:

1. **ブラウザ起動**: ヘッドレスブラウザを起動
2. **ログイン**: VRChatにログイン
3. **ページ遷移**: ワールドページに移動
4. **要素抽出**: DOMから直接データを取得

### 方法3: ネットワークトラフィック監視

ブラウザのネットワークトラフィックを監視してAPIエンドポイントを特定:

1. **開発者ツール**: ブラウザの開発者ツールでネットワークタブを開く
2. **ページロード**: ワールドページをロード
3. **API特定**: バックエンドAPIのエンドポイントを特定
4. **直接呼び出し**: 特定したAPIを直接呼び出す

## 推奨アプローチ

**方法3（ネットワークトラフィック監視）が最も効率的**

理由:
- HTMLパースは構造変更に弱い
- ブラウザ自動化はリソースを多く消費
- バックエンドAPIを直接呼び出すのが最も効率的で安定

## 次のステップ

1. ブラウザの開発者ツールでネットワークトラフィックを監視
2. Active Instancesデータを取得しているAPIエンドポイントを特定
3. そのエンドポイントを直接呼び出すようにスクリプトを修正
